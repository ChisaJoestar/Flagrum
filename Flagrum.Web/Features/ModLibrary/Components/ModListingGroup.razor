@inject AppStateService AppState
@inject JSInterop Interop

<CascadingValue Value="this">
    @{
        var counter = 0;
        foreach (var mod in Mods)
        {
            var key = counter;
            <ModListingCard @key="key" Mod="mod"/>
            counter++;
        }
    }
</CascadingValue>

@code
{
    [Parameter]
    public IEnumerable<Binmod> Mods { get; set; }

    private List<ModListingCard> Children { get; set; } = new();

    public void AddChild(ModListingCard child)
    {
        Children.Add(child);
    }

    public void CallStateHasChanged()
    {
        StateHasChanged();
    }
}